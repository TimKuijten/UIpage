<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kovacic Talent — Artículo</title>
  <meta name="description" content="Perspectivas del equipo de reclutamiento ejecutivo de Kovacic Talent." />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --ink:#101828;
      --muted:#667085;
      --bg:#ffffff;
      --accent:#0A212E;
      --accent-dark:#0A212E;
      --line:#ebedf0;
      --beige:#E9F0F5;
      --shadow:0 10px 30px rgba(16,24,40,.08);
      --radius:14px;
      --radius-lg:22px;
      --pad:clamp(16px,3.2vw,28px);
      --w:1180px;
    }
    *{box-sizing:border-box}
    html,body{height:100%;overflow-x:hidden}
    body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial;color:var(--ink);background:var(--bg);font-size:16px;line-height:1.65;-webkit-font-smoothing:antialiased}
    body.nav-open{overflow:hidden}
    body.cookie-modal-open{overflow:hidden}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}
    p{margin:0 0 1rem}
    .muted{color:var(--muted)}
    .container{max-width:var(--w);margin-inline:auto;padding-inline:var(--pad)}
    .btn{display:inline-flex;align-items:center;gap:.5rem;padding:.9rem 1.3rem;border-radius:999px;font-weight:700;letter-spacing:.01em}
    .btn-primary{background:#111;color:#fff}
    .btn-primary:hover{filter:brightness(.95)}
    .btn-ghost{border:2px solid #111;color:#111}
    .btn-ghost:hover{background:#111;color:#fff}

    .nav{position:sticky;top:0;z-index:40;background:#fff;border-bottom:1px solid var(--line);backdrop-filter:blur(8px)}
    .nav .inner{display:flex;align-items:center;justify-content:space-between;gap:18px;height:60px;position:relative}
    .logo{display:flex;align-items:center;gap:.5rem;font-weight:900;letter-spacing:.02em}
    .logo-img{height:32px;width:auto}
    .menu-panel{display:flex;align-items:center;gap:20px;margin-left:auto;position:relative}
    .menu{display:flex;gap:20px;align-items:center;flex-wrap:nowrap}
    .menu a{font-weight:600;color:#0f172a;transition:color .2s ease;font-size:.93rem;white-space:nowrap}
    .menu a:hover{color:var(--accent-dark)}
    .nav-cta{display:flex;gap:8px;align-items:center}
    .nav-cta .btn{white-space:nowrap;padding:.6rem .95rem;font-size:.85rem}
    .nav-cta .nav-linkedin{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      width:24px;
      height:24px;
      min-width:24px;
      border-radius:50%;
      border:1px solid #0A66C2;
      color:#0A66C2;
      background:#fff;
      transition:background .2s ease,color .2s ease,border-color .2s ease,box-shadow .2s ease;
    }
    .nav-cta .nav-linkedin svg{width:12px;height:12px;display:block}
    .nav-cta .nav-linkedin:hover{
      background:#0A66C2;
      color:#fff;
      border-color:#0A66C2;
      box-shadow:0 4px 12px rgba(10,102,194,.22);
    }
    .nav-cta .nav-linkedin:focus-visible{
      outline:3px solid rgba(10,102,194,.35);
      outline-offset:2px;
    }
    .menu-toggle{display:none;align-items:center;gap:10px;padding:.65rem .9rem;border-radius:12px;border:1px solid var(--line);background:#fff;font-weight:600;color:var(--ink);cursor:pointer;transition:background .2s ease,color .2s ease,border-color .2s ease}
    .menu-toggle:hover{background:var(--beige);border-color:#d0d8dd}
    .menu-toggle:focus-visible{outline:3px solid rgba(10,33,46,.35);outline-offset:3px}
    .menu-label{font-size:.95rem}
    .menu-icon{position:relative;width:18px;height:2px;background:currentColor;border-radius:999px;transition:transform .2s ease,background .2s ease}
    .menu-icon::before,
    .menu-icon::after{content:"";position:absolute;left:0;width:100%;height:2px;background:currentColor;border-radius:999px;transition:transform .2s ease,opacity .2s ease}
    .menu-icon::before{top:-6px}
    .menu-icon::after{top:6px}
    .nav.is-open .menu-toggle{background:var(--accent);color:#fff;border-color:var(--accent)}
    .nav.is-open .menu-icon{background:transparent}
    .nav.is-open .menu-icon::before{transform:translateY(6px) rotate(45deg)}
    .nav.is-open .menu-icon::after{transform:translateY(-6px) rotate(-45deg)}

    main.article-section{padding-block:clamp(40px,8vw,80px);background:linear-gradient(180deg,#f8fafc,#fff 60%)}
    .article-frame{background:#fff;border:1px solid var(--line);border-radius:24px;box-shadow:var(--shadow);padding:clamp(24px,5vw,56px);max-width:860px;margin-inline:auto}
    .article-frame .wp-block-post-title{font-size:clamp(2rem,4.5vw,3.4rem);line-height:1.1;margin:0 0 clamp(12px,2vw,24px)}
    .article-frame .wp-block-post-title a{color:inherit;text-decoration:none}
    .article-frame .wp-block-post-featured-image{margin-bottom:clamp(20px,3vw,40px);border-radius:20px;overflow:hidden}
    .article-frame .wp-block-post-featured-image img{width:100%;height:auto;display:block}
    .article-frame .wp-block-post-content{font-size:1.05rem;color:#1f2937;margin-top:clamp(20px,3vw,32px)}
    .article-frame .wp-block-post-content > * + *{margin-top:1.35em}
    .article-frame .wp-block-post-content h2{font-size:1.75rem;margin-top:2.2em}
    .article-frame .wp-block-post-content h3{font-size:1.4rem;margin-top:2em}
    .article-frame .wp-block-post-content h4{font-size:1.2rem;margin-top:1.8em}
    .article-frame .wp-block-post-content img{border-radius:18px}
    .article-frame .wp-block-post-content blockquote{margin:1.8em 0;padding:1.2em 1.4em;border-left:4px solid var(--accent);background:#f8fafc;border-radius:18px;color:#0f172a;font-style:italic}
    .article-frame .wp-block-post-content ul,
    .article-frame .wp-block-post-content ol{padding-left:1.4em}
    .article-frame .wp-block-post-content li + li{margin-top:.6em}
    .article-frame .wp-block-post-content a{color:var(--accent);text-decoration:underline;text-decoration-color:rgba(10,33,46,.3);text-decoration-thickness:2px}
    .article-frame .wp-block-post-content table{width:100%;border-collapse:collapse}
    .article-frame .wp-block-post-content table th,
    .article-frame .wp-block-post-content table td{border:1px solid var(--line);padding:.75em;text-align:left}
    .article-frame .wp-block-post-content figure{margin:1.8em 0;text-align:center}
    .article-frame .wp-block-post-content figure img{margin-inline:auto}
    .article-frame .wp-block-post-content figure figcaption{margin-top:.75em;font-size:.95rem;color:var(--muted)}
    .article-frame .wp-block-post-content .aligncenter{margin:1.5em auto;display:block}
    .article-frame .wp-block-post-content .alignleft{float:left;margin:0 1.4em 1em 0;max-width:50%}
    .article-frame .wp-block-post-content .alignright{float:right;margin:0 0 1em 1.4em;max-width:50%}
    .article-frame .wp-block-post-content iframe{width:100%;min-height:320px;border:none;border-radius:18px}
    .article-cta{margin-top:clamp(28px,4.5vw,40px);display:flex;justify-content:center}

    footer{background:#0b1220;color:#cbd5e1;padding-block:44px 28px;margin-top:clamp(40px,6vw,80px)}
    .footer-inner{display:grid;grid-template-columns:1.2fr .8fr;gap:28px;align-items:center}
    .newsletter{display:flex;gap:10px}
    .newsletter input{flex:1;padding:12px 14px;border-radius:999px;border:1px solid #334155;background:#0f172a;color:#e2e8f0}
    .newsletter button{border:none;background:var(--accent);color:#fff;border-radius:999px;padding:12px 18px;font-weight:800;cursor:pointer}
    .mini{border-top:1px solid #162036;margin-top:26px;padding-top:16px;text-align:center;color:#94a3b8}
    footer a{color:#cbd5e1}

    .cookie-banner{position:fixed;bottom:24px;right:24px;width:min(440px,calc(100% - 48px));background:#fff;border:1px solid var(--line);border-radius:var(--radius-lg);box-shadow:var(--shadow);padding:18px 20px;display:grid;gap:12px;z-index:60}
    .cookie-banner[hidden]{display:none !important}
    .cookie-banner strong{display:block;font-size:1rem;margin-bottom:4px;color:var(--ink)}
    .cookie-banner p{margin:0;color:var(--muted);font-size:.92rem}
    .cookie-banner-actions{display:flex;align-items:center;gap:8px;flex-wrap:wrap;justify-content:flex-end}
    .cookie-btn{font-family:inherit;font-size:.92rem;font-weight:600;border-radius:999px;border:1px solid transparent;padding:.65rem 1.2rem;cursor:pointer;transition:background .2s ease,color .2s ease,border-color .2s ease;display:inline-flex;align-items:center;justify-content:center;gap:.25rem;min-height:44px}
    .cookie-btn-primary{background:var(--accent);color:#fff}
    .cookie-btn-primary:hover{filter:brightness(.93)}
    .cookie-btn-secondary{background:#fff;border-color:var(--line);color:var(--accent)}
    .cookie-btn-secondary:hover{border-color:#cbd5e1;background:#f8fafc}
    .cookie-btn-link{background:transparent;color:var(--accent);padding:.55rem .75rem;border:none;margin-right:auto;text-decoration:underline;text-underline-offset:3px}
    .cookie-btn:focus-visible{outline:3px solid rgba(10,33,46,.35);outline-offset:2px}
    .cookie-btn-link:hover{color:var(--accent-dark);background:rgba(10,33,46,.06)}

    .cookie-modal{position:fixed;inset:0;z-index:70;display:flex;align-items:center;justify-content:center;padding:24px}
    .cookie-modal[hidden]{display:none !important}
    .cookie-modal-backdrop{position:absolute;inset:0;background:rgba(15,23,42,.45)}
    .cookie-modal-content{position:relative;z-index:1;width:min(520px,100%);background:#fff;border-radius:var(--radius-lg);box-shadow:var(--shadow);padding:clamp(24px,4vw,32px);display:grid;gap:18px}
    .cookie-modal-header{display:flex;align-items:flex-start;justify-content:space-between;gap:12px}
    .cookie-modal-header h2{margin:0;font-size:1.22rem}
    .cookie-modal-intro{margin:0;color:var(--muted);font-size:.95rem}
    .cookie-close{border:none;background:transparent;color:var(--muted);font-size:1.6rem;line-height:1;padding:4px;border-radius:8px;cursor:pointer}
    .cookie-close:hover{color:var(--accent);background:rgba(15,23,42,.08)}
    .cookie-options{display:grid;gap:10px}
    .cookie-row{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:14px 0;border-top:1px solid var(--line);cursor:pointer}
    .cookie-row:first-of-type{border-top:none;padding-top:4px}
    .cookie-row-text{max-width:360px;display:block}
    .cookie-row-title{display:block;font-weight:600;color:var(--ink)}
    .cookie-row-desc{display:block;font-size:.85rem;color:var(--muted);margin-top:4px}
    .cookie-row-disabled{cursor:default}
    .cookie-switch{position:relative;width:48px;height:26px;flex-shrink:0}
    .cookie-switch input{position:absolute;inset:0;margin:0;opacity:0;cursor:pointer}
    .cookie-switch span{position:absolute;inset:0;background:#d7dce3;border-radius:999px;transition:background .2s ease}
    .cookie-switch span::after{content:"";position:absolute;width:20px;height:20px;border-radius:50%;background:#fff;top:3px;left:3px;box-shadow:0 2px 6px rgba(15,23,42,.2);transition:transform .2s ease}
    .cookie-switch input:checked + span{background:var(--accent)}
    .cookie-switch input:checked + span::after{transform:translateX(20px)}
    .cookie-switch input:disabled + span{background:#94a3b8;cursor:not-allowed;opacity:.65}
    .cookie-switch input:focus-visible + span{outline:3px solid rgba(10,33,46,.35);outline-offset:2px}
    .cookie-modal-actions{display:flex;justify-content:flex-end;gap:10px;flex-wrap:wrap}
    .cookie-modal-actions .cookie-btn{min-width:150px}

    @media (max-width:600px){
      .cookie-banner{left:16px;right:16px;bottom:16px;width:auto;padding:16px 18px}
      .cookie-banner-actions{flex-direction:column;align-items:stretch}
      .cookie-btn{width:100%}
      .cookie-btn-link{margin-right:0;text-align:center}
      .cookie-modal{padding:12px}
      .cookie-modal-content{width:100%}
      .cookie-row{flex-direction:column;align-items:flex-start}
      .cookie-modal-actions{flex-direction:column;align-items:stretch}
      .cookie-modal-actions .cookie-btn{width:100%}
    }

    @media (max-width:980px){
      .menu-toggle{display:inline-flex}
      .menu-panel{position:absolute;top:100%;left:0;right:0;background:#fff;display:grid;gap:0;border-bottom:1px solid var(--line);box-shadow:0 20px 40px rgba(15,23,42,.1);border-radius:0 0 var(--radius) var(--radius);transform:translateY(-10px);opacity:0;pointer-events:none;transition:transform .25s ease,opacity .25s ease;margin-left:0;max-height:calc(100vh - 66px);overflow:auto}
      .nav.is-open .menu-panel{transform:translateY(0);opacity:1;pointer-events:auto}
      .menu{flex-direction:column;align-items:flex-start;gap:0;padding-block:12px}
      .menu a{width:100%;padding:12px var(--pad);border-top:1px solid var(--line);font-size:1rem}
      .menu a:first-child{border-top:none}
      .nav-cta{display:grid;gap:10px;padding:10px var(--pad) 16px;border-top:1px solid var(--line);background:#fff}
      .nav-cta .btn{width:100%;justify-content:center}
      .footer-inner{grid-template-columns:1fr;text-align:center}
      .newsletter{justify-content:center}
    }

    @media (max-width:640px){
      main.article-section{padding-block:clamp(28px,12vw,60px)}
      .article-frame .wp-block-post-title{font-size:clamp(1.8rem,7vw,2.6rem)}
      .article-frame .wp-block-post-featured-image{margin-bottom:20px}
      .newsletter{flex-direction:column}
      .newsletter input,
      .newsletter button{width:100%}
      .article-frame .wp-block-post-content .alignleft,
      .article-frame .wp-block-post-content .alignright{float:none;margin:1.5em auto;max-width:100%}
      .article-frame .wp-block-post-content iframe{min-height:240px}
    }
  </style>
</head>
<body>
  <nav class="nav" aria-label="Navegación principal">
    <div class="container inner">
      <a class="logo" href="https://kovacictalent.com/"><img src="https://kovacictalent.com/wp-content/uploads/2025/08/Logo_Kovacic.png" alt="Logotipo de Kovacic Talent" class="logo-img"><span> </span></a>
      <button class="menu-toggle" type="button" aria-label="Abrir o cerrar la navegación" aria-expanded="false" aria-controls="primary-menu">
        <span class="menu-icon" aria-hidden="true"></span>
        <span class="menu-label">Menú</span>
      </button>
      <div class="menu-panel" id="primary-menu">
        <div class="menu">
          <a href="https://kovacictalent.com/#sectors">Sectores</a>
          <a href="https://kovacictalent.com/#About">Sobre nosotros</a>
          <a href="https://kovacictalent.com/#Values">Nuestros valores</a>
          <a href="https://kovacictalent.com/#process">Cómo trabajamos</a>
          <a href="https://kovacictalent.com/#processes">Procesos</a>
          <a href="https://kovacictalent.com/#contact">Contacto</a>
        </div>
        <div class="nav-cta">
          <a class="btn btn-ghost" href="https://kovacictalent.com/mejoracv">Enviar CV</a>
          <a class="btn btn-primary" href="https://kovacictalent.com/#contact">Solicitar una llamada</a>
          <a class="nav-linkedin" href="https://www.linkedin.com/company/kovacic-executive-talent/" target="_blank" rel="noopener noreferrer" aria-label="Kovacic Talent en LinkedIn (se abre en una pestaña nueva)">
            <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
              <path fill="currentColor" d="M22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.226.792 24 1.771 24h20.451C23.2 24 24 23.226 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003zM6.615 20.452H3.558V9h3.057v11.452zM5.087 7.633a1.773 1.773 0 110-3.546 1.773 1.773 0 010 3.546zm15.36 12.819h-3.054v-5.569c0-1.329-.026-3.036-1.851-3.036-1.851 0-2.136 1.446-2.136 2.94v5.665H10.35V9h2.93v1.561h.041c.408-.77 1.405-1.584 2.894-1.584 3.094 0 3.663 2.039 3.663 4.689v6.786z" />
            </svg>
          </a>
        </div>
      </div>
    </div>
  </nav>

  <main class="article-section">
    <div class="container">
      <div class="article-frame">
        <!-- wp:post-title /-->
        <!-- wp:post-featured-image /-->
        <!-- wp:post-content /-->
        <div class="article-cta">
          <a class="btn btn-primary" href="https://kovacictalent.com/contacta-con-nosotros">Enviar CV</a>
        </div>
      </div>
    </div>
  </main>

  <footer>
    <div class="container footer-inner">
      <div>
        <p style="color:#94a3b8;max-width:58ch">Búsqueda ejecutiva y selección de especialistas senior en Tecnología y Energía Renovable. Servicio boutique, alcance global.</p>
      </div>
      <div>
        <form class="newsletter" onsubmit="event.preventDefault(); alert('¡Suscripción confirmada!');">
          <input type="email" required placeholder="Suscríbete con tu correo electrónico">
          <button type="submit">Suscribirme</button>
        </form>
      </div>
    </div>
    <div class="container mini">
      © <span id="y"></span> Kovacic Talent. Todos los derechos reservados · <a href="https://kovacictalent.com/privacy-terms/#privacy">Privacidad</a> · <a href="https://kovacictalent.com/privacy-terms/#terms">Términos</a>
    </div>
  </footer>

  <div class="cookie-banner" data-cookie-banner role="dialog" aria-labelledby="cookie-banner-title" aria-describedby="cookie-banner-desc">
    <div class="cookie-banner-text">
      <strong id="cookie-banner-title">Tu privacidad es importante</strong>
      <p id="cookie-banner-desc">Usamos cookies para mantener funciones esenciales, analizar el rendimiento y apoyar el marketing. Puedes actualizar tus preferencias cuando quieras.</p>
    </div>
    <div class="cookie-banner-actions">
      <button type="button" class="cookie-btn cookie-btn-link" data-cookie-open>Preferencias</button>
      <button type="button" class="cookie-btn cookie-btn-secondary" data-cookie-reject>Rechazar</button>
      <button type="button" class="cookie-btn cookie-btn-primary" data-cookie-accept>Aceptar</button>
    </div>
  </div>

  <div class="cookie-modal" data-cookie-modal hidden aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="cookie-modal-title">
    <div class="cookie-modal-backdrop" data-cookie-close></div>
    <div class="cookie-modal-content" role="document">
      <header class="cookie-modal-header">
        <h2 id="cookie-modal-title">Preferencias de cookies</h2>
        <button type="button" class="cookie-close" data-cookie-close aria-label="Cerrar preferencias de cookies"><span aria-hidden="true">&times;</span></button>
      </header>
      <p class="cookie-modal-intro">Decide qué cookies opcionales podemos usar. Las cookies esenciales permanecen activas para garantizar las funciones fundamentales del sitio.</p>
      <div class="cookie-options">
        <label class="cookie-row cookie-row-disabled">
          <span class="cookie-row-text">
            <span class="cookie-row-title">Esenciales</span>
            <span class="cookie-row-desc">Necesarias para funciones básicas como la navegación, la seguridad y recordar tus preferencias.</span>
          </span>
          <span class="cookie-switch">
            <input type="checkbox" data-cookie-toggle="essential" checked disabled>
            <span aria-hidden="true"></span>
          </span>
        </label>
        <label class="cookie-row">
          <span class="cookie-row-text">
            <span class="cookie-row-title">Analítica</span>
            <span class="cookie-row-desc">Nos permite entender cómo utilizan esta página los visitantes para mejorar la experiencia.</span>
          </span>
          <span class="cookie-switch">
            <input type="checkbox" data-cookie-toggle="analytics" data-focus-first>
            <span aria-hidden="true"></span>
          </span>
        </label>
        <label class="cookie-row">
          <span class="cookie-row-text">
            <span class="cookie-row-title">Marketing</span>
            <span class="cookie-row-desc">Nos ayuda a personalizar el contenido y los mensajes según tus intereses.</span>
          </span>
          <span class="cookie-switch">
            <input type="checkbox" data-cookie-toggle="marketing">
            <span aria-hidden="true"></span>
          </span>
        </label>
      </div>
      <div class="cookie-modal-actions">
        <button type="button" class="cookie-btn cookie-btn-secondary" data-cookie-close>Cancelar</button>
        <button type="button" class="cookie-btn cookie-btn-primary" data-cookie-save>Guardar preferencias</button>
      </div>
    </div>
  </div>

  <script>
    const yearTarget = document.getElementById('y');
    if(yearTarget){
      yearTarget.textContent = new Date().getFullYear();
    }

    (function(){
      const nav = document.querySelector('.nav');
      const toggle = document.querySelector('.menu-toggle');
      const panel = document.getElementById('primary-menu');
      if(!nav || !toggle || !panel) return;
      const links = panel.querySelectorAll('a');

      const closeMenu = () => {
        nav.classList.remove('is-open');
        toggle.setAttribute('aria-expanded','false');
        document.body.classList.remove('nav-open');
      };

      toggle.addEventListener('click', () => {
        const isOpen = nav.classList.toggle('is-open');
        toggle.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
        document.body.classList.toggle('nav-open', isOpen);
      });

      links.forEach(link => link.addEventListener('click', closeMenu));
      window.addEventListener('resize', () => {
        if(window.innerWidth > 980){
          closeMenu();
        }
      });
    })();
  </script>
  <script>
    (function(){
      const STORAGE_KEY = 'kt_cookie_preferences';
      const COOKIE_MAX_AGE = 60 * 60 * 24 * 365; // one year
      const defaults = { essential:true, analytics:false, marketing:false };
      const banner = document.querySelector('[data-cookie-banner]');
      const modal = document.querySelector('[data-cookie-modal]');
      if(!banner || !modal) return;

      const storage = (() => {
        try{
          const key = '__cookie_test__';
          localStorage.setItem(key,'1');
          localStorage.removeItem(key);
          return localStorage;
        }catch(err){
          return null;
        }
      })();

      const readStorage = () => {
        if(!storage) return null;
        try{
          const raw = storage.getItem(STORAGE_KEY);
          return raw ? JSON.parse(raw) : null;
        }catch(err){
          return null;
        }
      };

      const persistStorage = prefs => {
        if(!storage || !prefs || typeof prefs !== 'object') return;
        try{
          storage.setItem(STORAGE_KEY, JSON.stringify(prefs));
        }catch(err){
          /* no-op */
        }
      };

      const readCookie = () => {
        if(!document.cookie) return null;
        const prefix = `${STORAGE_KEY}=`;
        const cookies = document.cookie.split(';');
        for(const entry of cookies){
          const trimmed = entry.trim();
          if(trimmed.startsWith(prefix)){
            const value = trimmed.slice(prefix.length);
            if(!value) return null;
            try{
              return JSON.parse(decodeURIComponent(value));
            }catch(err){
              return null;
            }
          }
        }
        return null;
      };

      const persistCookie = prefs => {
        if(!prefs || typeof prefs !== 'object') return;
        try{
          const value = encodeURIComponent(JSON.stringify(prefs));
          document.cookie = `${STORAGE_KEY}=${value}; path=/; max-age=${COOKIE_MAX_AGE}; SameSite=Lax`;
        }catch(err){
          /* no-op */
        }
      };

      const readStored = () => readStorage() || readCookie();

      const persist = prefs => {
        persistStorage(prefs);
        persistCookie(prefs);
      };

      const mergePrefs = prefs => Object.assign({}, defaults, (prefs && typeof prefs === 'object') ? prefs : {});

      const runScripts = prefs => {
        const selector = 'script[type="text/plain"][data-cookiecategory]';
        document.querySelectorAll(selector).forEach(node => {
          const categories = node.dataset.cookiecategory.split(',').map(cat => cat.trim().toLowerCase()).filter(Boolean);
          if(!categories.length) return;
          const allowed = categories.some(cat => prefs[cat]);
          if(!allowed) return;
          const script = document.createElement('script');
          Array.from(node.attributes).forEach(attr => {
            if(attr.name === 'type' || attr.name === 'data-cookiecategory') return;
            script.setAttribute(attr.name, attr.value);
          });
          script.textContent = node.textContent;
          node.parentNode.replaceChild(script, node);
        });
      };

      const toggleInputs = modal.querySelectorAll('input[data-cookie-toggle]');
      const updateToggles = prefs => {
        toggleInputs.forEach(input => {
          const cat = input.dataset.cookieToggle;
          if(!cat) return;
          if(cat === 'essential'){
            input.checked = true;
            return;
          }
          input.checked = !!prefs[cat];
        });
      };

      const hideBanner = () => {
        banner.hidden = true;
        banner.setAttribute('aria-hidden','true');
      };

      const showBanner = () => {
        banner.hidden = false;
        banner.removeAttribute('aria-hidden');
      };

      let lastFocus = null;
      const hideModal = () => {
        modal.hidden = true;
        modal.setAttribute('aria-hidden','true');
        document.body.classList.remove('cookie-modal-open');
        if(lastFocus){
          lastFocus.focus();
          lastFocus = null;
        }
      };

      const focusModal = () => {
        const target = modal.querySelector('[data-focus-first]') || modal.querySelector('[data-cookie-close]') || modal;
        setTimeout(() => target.focus(), 0);
      };

      const showModal = () => {
        modal.hidden = false;
        modal.removeAttribute('aria-hidden');
        document.body.classList.add('cookie-modal-open');
        focusModal();
      };

      const applyPrefs = prefs => {
        const merged = mergePrefs(prefs);
        persist(merged);
        updateToggles(merged);
        runScripts(merged);
        hideBanner();
        hideModal();
      };

      const acceptBtn = banner.querySelector('[data-cookie-accept]');
      const rejectBtn = banner.querySelector('[data-cookie-reject]');
      const openBtns = document.querySelectorAll('[data-cookie-open]');
      const closeBtns = document.querySelectorAll('[data-cookie-close]');
      const saveBtn = modal.querySelector('[data-cookie-save]');

      acceptBtn?.addEventListener('click', () => applyPrefs({ analytics:true, marketing:true }));
      rejectBtn?.addEventListener('click', () => applyPrefs({ analytics:false, marketing:false }));

      openBtns.forEach(btn => btn.addEventListener('click', () => {
        lastFocus = document.activeElement;
        updateToggles(mergePrefs(readStored()));
        showModal();
      }));

      closeBtns.forEach(btn => btn.addEventListener('click', () => {
        hideModal();
      }));

      saveBtn?.addEventListener('click', () => {
        const prefs = mergePrefs(readStored());
        toggleInputs.forEach(input => {
          const cat = input.dataset.cookieToggle;
          if(!cat || cat === 'essential') return;
          prefs[cat] = input.checked;
        });
        applyPrefs(prefs);
      });

      document.addEventListener('keydown', event => {
        if(event.key === 'Escape' && !modal.hidden){
          hideModal();
        }
      });

      const stored = readStored();
      const initial = mergePrefs(stored);
      if(stored){
        persist(initial);
        hideBanner();
      } else {
        showBanner();
      }
      updateToggles(initial);
      runScripts(initial);
    })();
  </script>
</body>
</html>
